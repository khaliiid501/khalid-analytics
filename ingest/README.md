````markdown name=ingest/README.md\n```markdown\n# Ingest service (Khalid Analytics)\n\nخدمة مبسطة لجلب بيانات السوق في الزمن الحقيقي من مزود مثل Finnhub وإعادة بثها إلى عملاء الويب عبر Socket.IO.\n\nالملفات المضافة:\n- src/index.js: الخدمة الأساسية (WebSocket -> broadcast -> optional TimescaleDB/Redis)\n- .env.example: مثال لمتغيرات البيئة\n- package.json: تعريف الحزم وتشغيل الخدمة\n\nالمتطلبات:\n- Node.js >=14\n- مفتاح API من Finnhub (https://finnhub.io)\n- (اختياري) TimescaleDB (Postgres) إن رغبت بحفظ البيانات التاريخية\n- (اختياري) Redis لاستخدام Streams أو caching\n\nكيفية الحصول على مفتاح Finnhub سريعًا:\n1. سجل حسابًا مجانيًا على https://finnhub.io\n2. انسخ API key من لوحة التحكم\n3. ضع المفتاح في ملف `.env` كقيمة لـ FINNHUB_KEY\n\nتشغيل محلي (نموذجي):\n1. انسخ الكود أو اكتبه في مجلد `ingest` داخل المستودع\n2. انسخ `.env.example` إلى `.env` وحرّر القيم\n3. تثبيت الحزم:\n\n```bash\ncd ingest\nnpm install\n```\n\n4. تشغيل:\n\n```bash\nnpm start\n```\n\nالتجربة:\n- بعد التشغيل ستعمل خدمة Socket.IO على المنفذ المحدد (افتراضي 4000).\n- يمكن استخدام عميل Socket.IO في المتصفح أو curl/ws لتلقي أحداث `market:trade`.\n\nملاحظات للإنتاج:\n- أضف إدارة rate-limits، إعادة المحاولة الذكية، تقسيم الاشتراكات، والمصادقة على العملاء.\n- لا تعد بث بيانات مزودة مرخّصة للعامة دون راجع شروط خدمة المزود.\n````